Comment: >-
  This state machine is for running AWS Batch.
StartAt: ExecuteBatch
States:
  ExecuteBatch:
    Type: Task
    Resource: arn:aws:states:::batch:submitJob.sync
    Parameters: 
      JobName: testJob
      JobDefinition: ${BatchJobDefinitionArn}
      JobQueue: ${BatchJobQueueArn}
      ContainerOverrides:
        Environment:
          - Name: PARAM_TEST
            Value: "AWS Batch test!"
    Retry:
      - ErrorEquals:
          - Batch.TooManyRequestsException
          - ECS.AmazonECSException
        IntervalSeconds: 10
        MaxAttempts: 2
        BackoffRate: 1.5
    Next: Succeed
  Succeed:
    Type: Succeed
